# For more info on HTTP files go to https://aka.ms/vs/httpfile
@host=https://api-patienthealthrecord.azurewebsites.net

// List all contributors
GET {{host}}/Contributors

###

// Get a specific contributor
@id_to_get=1
GET {{host}}/Contributors/{{id_to_get}}

###

// Add a new contributor
POST {{host}}/Contributors
Content-Type: application/json

{
  "name": "John Doe 3",
  "email": "test@test.com",
  "phoneNumber": "1234567890"
}

###

// Update a contributor
@id_to_update=1
PUT {{host}}/Contributors/{{id_to_update}}
Content-Type: application/json

{
  "id": {{id_to_update}},
  "name": "ardalis2"
}

###

// Delete a contributor
@id_to_delete=1
DELETE {{host}}/Contributors/{{id_to_delete}}

###

// List all patients
GET {{host}}/Patients

###

// Get a specific patient
@patient_id_to_get= 0db4d0d8-48df-444c-9b21-13f8740869eb
GET {{host}}/Patients/{{patient_id_to_get}}

###

// Create a new patient (Botswana family member)
POST {{host}}/Patients
Content-Type: application/json

{
  "email": "kgosi.molefe@gmail.com",
  "firstName": "Kgosi",
  "lastName": "Molefe",
  "dateOfBirth": "1985-03-15",
  "gender": "Male",
  "relationship": "Father",
  "primaryContactId": null,
  "phoneNumber": "+267 71234567"
}

###

// Create another patient (Botswana family member)
POST {{host}}/Patients
Content-Type: application/json

{
  "email": "mpho.molefe@outlook.com",
  "firstName": "Mpho",
  "lastName": "Molefe",
  "dateOfBirth": "1988-07-22",
  "gender": "Female",
  "relationship": "Mother",
  "primaryContactId": null,
  "phoneNumber": "+267 72345678"
}

###

// Create child patient (Botswana family member)
POST {{host}}/Patients
Content-Type: application/json

{
  "email": "thato.molefe@school.edu.bw",
  "firstName": "Thato",
  "lastName": "Molefe",
  "dateOfBirth": "2015-11-08",
  "gender": "Male",
  "relationship": "Son",
  "primaryContactId": null,
  "phoneNumber": "+267 73456789"
}

###

// Create another child patient (Botswana family member)
POST {{host}}/Patients
Content-Type: application/json

{
  "email": "keabetswe.molefe@school.edu.bw",
  "firstName": "Keabetswe",
  "lastName": "Molefe",
  "dateOfBirth": "2018-05-12",
  "gender": "Female",
  "relationship": "Daughter",
  "primaryContactId": null,
  "phoneNumber": "+267 74567890"
}

###

// Get family members for a patient (use a family ID from created patients)
@family_id_to_get=550e8400-e29b-41d4-a716-446655440000
GET {{host}}/Patients/{{family_id_to_get}}/family

###

// Get family dashboard for a patient (use a family ID from created patients)
@family_dashboard_id=550e8400-e29b-41d4-a716-446655440000
GET {{host}}/Patients/{{family_dashboard_id}}/dashboard

###

# Clinical Data Endpoints

// List all clinical observations
GET {{host}}/ClinicalObservations

###

// Get clinical observations for a specific patient
@patient_id_for_obs=550e8400-e29b-41d4-a716-446655440000
GET {{host}}/ClinicalObservations?patientId={{patient_id_for_obs}}

###

// Create a new clinical observation
POST {{host}}/ClinicalObservations
Content-Type: application/json

{
  "patientId": "{{patient_id_for_obs}}",
  "observationType": "Temperature",
  "value": "98.6",
  "unit": "F",
  "recordedAt": "2025-01-15T10:30:00Z",
  "recordedBy": "Self",
  "category": "Vital",
  "notes": "Morning temperature check"
}

###

// Get a specific clinical observation
@obs_id_to_get=1
GET {{host}}/ClinicalObservations/{{obs_id_to_get}}

###

// Update a clinical observation
@obs_id_to_update=1
PUT {{host}}/ClinicalObservations/{{obs_id_to_update}}
Content-Type: application/json

{
  "id": {{obs_id_to_update}},
  "patientId": "{{patient_id_for_obs}}",
  "observationType": "Temperature",
  "value": "98.6",
  "unit": "F",
  "recordedAt": "2025-01-15T10:30:00Z",
  "recordedBy": "Self",
  "category": "Vital",
  "notes": "Morning temperature check - updated",
  "isVisibleToFamily": true
}

###

// Delete a clinical observation
@obs_id_to_delete=1
DELETE {{host}}/ClinicalObservations/{{obs_id_to_delete}}

###

# Conditions Endpoints

// List all conditions
GET {{host}}/Conditions

###

// Get conditions for a specific patient
@patient_id_for_conditions=550e8400-e29b-41d4-a716-446655440000
GET {{host}}/Conditions?patientId={{patient_id_for_conditions}}

###

// Create a new condition
POST {{host}}/Conditions
Content-Type: application/json

{
  "patientId": "550e8400-e29b-41d4-a716-446655440000",
  "name": "Hypertension",
  "description": "High blood pressure requiring monitoring",
  "onsetDate": "2024-06-01",
  "severity": "Moderate",
  "treatment": "Lifestyle changes and monitoring",
  "recordedBy": "Dr. Smith"
}

###

// Get a specific condition
@condition_id_to_get=1
GET {{host}}/Conditions/{{condition_id_to_get}}

###

// Update a condition
@condition_id_to_update=1
PUT {{host}}/Conditions/{{condition_id_to_update}}
Content-Type: application/json

{
  "id": {{condition_id_to_update}},
  "patientId": "{{patient_id_for_conditions}}",
  "name": "Hypertension",
  "description": "High blood pressure - medication added",
  "onsetDate": "2024-06-01",
  "severity": "Moderate",
  "treatment": "Lifestyle changes, monitoring, and medication",
  "recordedBy": "Dr. Smith",
  "isVisibleToFamily": true
}

###

// Resolve a condition
@condition_id_to_resolve=1
POST {{host}}/Conditions/{{condition_id_to_resolve}}/resolve
Content-Type: application/json

{
  "resolvedDate": "2025-01-15"
}

###

// Delete a condition
@condition_id_to_delete=1
DELETE {{host}}/Conditions/{{condition_id_to_delete}}

###

# Medications Endpoints

// List all medications
GET {{host}}/Medications

###

// Get medications for a specific patient
@patient_id_for_medications=550e8400-e29b-41d4-a716-446655440000
GET {{host}}/Medications?patientId={{patient_id_for_medications}}

###

// Create a new medication
POST {{host}}/Medications
Content-Type: application/json

{
  "patientId": "d97480d5-3217-4072-b39e-a94c4d8374ee",
  "name": "Lisinopril",
  "dosage": "10mg",
  "frequency": "Once daily",
  "startDate": "2024-06-01",
  "prescribedBy": "Dr. Smith",
  "purpose": "Blood pressure control",
  "recordedBy": "Dr. Smith"
}

###

// Get a specific medication
@medication_id_to_get=1
GET {{host}}/Medications/{{medication_id_to_get}}

###

// Update a medication
@medication_id_to_update=1
PUT {{host}}/Medications/{{medication_id_to_update}}
Content-Type: application/json

{
  "id": {{medication_id_to_update}},
  "patientId": "{{patient_id_for_medications}}",
  "name": "Lisinopril",
  "dosage": "10mg",
  "frequency": "Once daily",
  "startDate": "2024-06-01",
  "prescribedBy": "Dr. Smith",
  "purpose": "Blood pressure control",
  "recordedBy": "Dr. Smith",
  "isVisibleToFamily": true
}

###

// Stop a medication
@medication_id_to_stop=1
POST {{host}}/Medications/{{medication_id_to_stop}}/stop
Content-Type: application/json

{
  "endDate": "2025-01-15",
  "reason": "Adverse side effects"
}

###

// Complete a medication course
@medication_id_to_complete=1
POST {{host}}/Medications/{{medication_id_to_complete}}/complete
Content-Type: application/json

{
  "endDate": "2025-01-15"
}

###

// Record side effect for a medication
@medication_id_for_side_effect=1
POST {{host}}/Medications/{{medication_id_for_side_effect}}/side-effect
Content-Type: application/json

{
  "sideEffect": "Dry cough",
  "severity": "Mild",
  "reportedDate": "2025-01-15"
}

###

// Delete a medication
@medication_id_to_delete=1
DELETE {{host}}/Medications/{{medication_id_to_delete}}

###

# FHIR Interoperability Endpoints

// Export patient data in FHIR JSON format
@patient_id_for_fhir_export=550e8400-e29b-41d4-a716-446655440000
GET {{host}}/Interoperability/ExportPatientData?patientId={{patient_id_for_fhir_export}}&format=Json&includeObservations=true&includeConditions=true&includeMedications=true

###

// Export patient data in FHIR XML format
GET {{host}}/Interoperability/ExportPatientData?patientId={{patient_id_for_fhir_export}}&format=Xml&includeObservations=true&includeConditions=true&includeMedications=true

###

// Export patient data with date range filter (last 6 months)
GET {{host}}/Interoperability/ExportPatientData?patientId={{patient_id_for_fhir_export}}&format=Json&includeObservations=true&includeConditions=true&includeMedications=true&fromDate=2024-03-29&toDate=2024-09-29

###

// Export only patient observations (no conditions or medications)
GET {{host}}/Interoperability/ExportPatientData?patientId={{patient_id_for_fhir_export}}&format=Json&includeObservations=true&includeConditions=false&includeMedications=false

###

// Export only patient conditions and medications (no observations)
GET {{host}}/Interoperability/ExportPatientData?patientId={{patient_id_for_fhir_export}}&format=Json&includeObservations=false&includeConditions=true&includeMedications=true
